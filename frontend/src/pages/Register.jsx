import React,{useState}from'react';import{motion}from'framer-motion';import{useNavigate,Link}from'react-router-dom';import Button from'../components/Button';const Register=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:''});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const[step,setStep]=useState(1);const validateStep=(stepNum)=>{const newErrors={};if(stepNum===1){if(!formData.name)newErrors.name='Name is required';if(!formData.email)newErrors.email='Email is required';else if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email))newErrors.email='Invalid email format';}else if(stepNum===2){if(!formData.password)newErrors.password='Password is required';else if(formData.password.length<8)newErrors.password='Password must be at least 8 characters';if(!formData.confirmPassword)newErrors.confirmPassword='Please confirm password';else if(formData.password!==formData.confirmPassword)newErrors.confirmPassword='Passwords do not match';}return newErrors;};const handleNext=()=>{const newErrors=validateStep(step);if(Object.keys(newErrors).length===0){setStep(step+1);}else{setErrors(newErrors);}};const handleSubmit=async(e)=>{e.preventDefault();const newErrors=validateStep(2);if(Object.keys(newErrors).length===0){setLoading(true);setTimeout(()=>{setLoading(false);navigate('/dashboard');},(2000));}else{setErrors(newErrors);}};const passwordStrength=formData.password.length>=8?formData.password.length>=12?'Strong':'Medium':'Weak';return(<motion.div initial={{opacity:0}}animate={{opacity:1}}transition={{duration:.8}}className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center px-4 py-8"style={{perspective:'1200px'}}>< div className="absolute inset-0 pointer-events-none"><div className="absolute top-20 left-20 w-96 h-96 bg-cyan-600/10 rounded-full blur-3xl"/><div className="absolute bottom-20 right-20 w-96 h-96 bg-purple-600/10 rounded-full blur-3xl"/></div><motion.div initial={{y:50,opacity:0}}animate={{y:0,opacity:1}}transition={{duration:.6}}className="w-full max-w-2xl relative z-10"><div className="p-8 rounded-2xl bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-purple-500/20"><motion.div initial={{scale:.8}}animate={{scale:1}}transition={{delay:.2}}className="text-center mb-8"><div className="text-5xl mb-4">ðŸ‘‹</div><h1 className="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-2">Join Us Today</h1><p className="text-gray-400">Create an account and start connecting</p></motion.div>< div className="flex gap-2 mb-8">{[1,2].map((s)=>(<motion.div key={s}initial={{scaleX:0}}animate={{scaleX:1}}transition={{delay:s*0.1}}className={`flex-1 h-2 rounded-full transition-all ${s<=step?'bg-gradient-to-r from-cyan-400 to-purple-400':'bg-slate-700/30'}`}/>))}</div><form onSubmit={handleSubmit}>{step===1&&(<motion.div variants={{hidden:{opacity:0,x:20},show:{opacity:1,x:0}}}initial="hidden"animate="show"exit="hidden"><motion.div className="space-y-5"><div><label className="block text-sm font-semibold text-white mb-2">Full Name</label><input type="text"value={formData.name}onChange={(e)=>{setFormData({...formData,name:e.target.value});if(errors.name)setErrors({...errors,name:''});}}className={`w-full px-4 py-3 bg-slate-700/50 border rounded-lg focus:outline-none focus:ring-2 transition-all text-white ${errors.name?'border-red-500':'border-purple-500/30 focus:ring-cyan-400/50'}`}placeholder="John Doe"/>{errors.name&&<p className="text-red-400 text-xs mt-1">{errors.name}</p>}</div><div><label className="block text-sm font-semibold text-white mb-2">Email Address</label><input type="email"value={formData.email}onChange={(e)=>{setFormData({...formData,email:e.target.value});if(errors.email)setErrors({...errors,email:''});}}className={`w-full px-4 py-3 bg-slate-700/50 border rounded-lg focus:outline-none focus:ring-2 transition-all text-white ${errors.email?'border-red-500':'border-purple-500/30 focus:ring-cyan-400/50'}`}placeholder="your@email.com"/>{errors.email&&<p className="text-red-400 text-xs mt-1">{errors.email}</p>}</div><motion.button type="button"whileHover={{scale:1.02}}whileTap={{scale:.98}}onClick={handleNext}className="w-full py-3 bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-400 hover:to-purple-500 text-white font-bold rounded-lg transition-all duration-300 mt-6">Next</motion.button></motion.div></motion.div>)}{step===2&&(<motion.div variants={{hidden:{opacity:0,x:20},show:{opacity:1,x:0}}}initial="hidden"animate="show"exit="hidden"><motion.div className="space-y-5"><div><label className="block text-sm font-semibold text-white mb-2">Password</label><input type="password"value={formData.password}onChange={(e)=>{setFormData({...formData,password:e.target.value});if(errors.password)setErrors({...errors,password:''});}}className={`w-full px-4 py-3 bg-slate-700/50 border rounded-lg focus:outline-none focus:ring-2 transition-all text-white ${errors.password?'border-red-500':'border-purple-500/30 focus:ring-cyan-400/50'}`}placeholder="At least 8 characters"/>{formData.password&&<div className="mt-2 flex items-center gap-2"><div className="flex-1 h-1 rounded-full bg-slate-700"><motion.div initial={{width:0}}animate={{width:passwordStrength==='Weak'?'33%':passwordStrength==='Medium'?'66%':'100%'}}className={`h-full rounded-full transition-all ${passwordStrength==='Weak'?'bg-red-500':passwordStrength==='Medium'?'bg-yellow-500':'bg-green-500'}`}/></div><span className={`text-xs font-semibold ${passwordStrength==='Weak'?'text-red-400':passwordStrength==='Medium'?'text-yellow-400':'text-green-400'}`}>{passwordStrength}</span></div>}{errors.password&&<p className="text-red-400 text-xs mt-1">{errors.password}</p>}</div><div><label className="block text-sm font-semibold text-white mb-2 mt-4">Confirm Password</label><input type="password"value={formData.confirmPassword}onChange={(e)=>{setFormData({...formData,confirmPassword:e.target.value});if(errors.confirmPassword)setErrors({...errors,confirmPassword:''});}}className={`w-full px-4 py-3 bg-slate-700/50 border rounded-lg focus:outline-none focus:ring-2 transition-all text-white ${errors.confirmPassword?'border-red-500':'border-purple-500/30 focus:ring-cyan-400/50'}`}placeholder="Re-enter password"/>{errors.confirmPassword&&<p className="text-red-400 text-xs mt-1">{errors.confirmPassword}</p>}</div><div className="flex gap-3 mt-6"><button type="button"onClick={()=>setStep(1)}className="flex-1 py-3 border-2 border-purple-500 text-purple-300 font-bold rounded-lg hover:bg-purple-500/20 transition-all">Back</button><motion.button type="submit"whileHover={{scale:1.02}}whileTap={{scale:.98}}disabled={loading}className="flex-1 py-3 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-bold rounded-lg disabled:opacity-50 flex items-center justify-center gap-2">{loading?(<><div className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"/><span>Creating...</span></>):('Create Account')}</motion.button></motion.div></motion.div></motion.div>)}</form><motion.div initial={{y:20,opacity:0}}animate={{y:0,opacity:1}}transition={{delay:.5}}className="mt-6 text-center"><p className="text-gray-400">Already have an account?<Link to="/login"className="text-cyan-400 hover:text-cyan-300 font-semibold ml-1 transition">Sign In</Link></p></motion.div></div></motion.div></motion.div>);};export default Register;
